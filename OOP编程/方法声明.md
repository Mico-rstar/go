### 什么是方法
一种类型的 **专属函数**

### 方法声明
```go
import "math"
type Point struct {
    X   float64
    Y   float64
}

func (p Point) Distance(q Point)  {
    return math.Hypot(q.X - p.X, q,Y - p.Y)
}

```

### 方法调用
```go
p := Point{
    X: 1.0,
    Y: 2.0,
}
q := Point{
    X: 3.0,
    Y: 4.0,
}

p.Distance(q)
```


### 基于值的方法 & 基于指针的方法
#### 基于值的方法
```go
// 声明
func (p Point) Distance(q Point)  {
    return math.Hypot(q.X - p.X, q,Y - p.Y)
}
```
```go
p := Point{
    X: 1.0,
    Y: 2.0,
}
q := Point{
    X: 3.0,
    Y: 4.0,
}
// 调用
p.Distance(q)
```

#### 基于指针的方法
```go
// 声明
func (p *Point) ScaleBy(factor float64) {
    p.X *= factor
    p.Y *= factor
}
```
```go
// 调用
p := Point{X: 1.0, Y: 2.0}
(&p).ScaleBy(1.2)

// 隐式指针调用
p.ScaleBy(1.3)
```
注意nil也可以调用基于指针的方法
```go
// An IntList is a linked list of integers.
// A nil *IntList represents the empty list.
type IntList struct {
    Value int
    Tail  *IntList
}
// Sum returns the sum of the list elements.
func (list *IntList) Sum() int {
    if list == nil {
        return 0
    }
    return list.Value + list.Tail.Sum()
}
```
```go
// 调用
var ll *IntList;
fmt.Println(ll.Sum()) 
```

#### 如何选择使用值还是指针接收者
使用值：
- 小对象
- 只读，不需要修改

使用指针
- 大对象
- 需要改变状态



### 方法值和方法表达式
#### 方法值 
方法值是绑定了具体对象的方法
```go
type Counter struct{ n int }

func (c *Counter) Inc(delta int) { c.n += delta }
```
```GO
c := Counter{1}
// 这是方法值
incFunc := c.Inc
```
调用方法值
```go
incFunc(1)
```

#### 方法表达式 
方法表达式尚未绑定具体类型，是一种将专属某种类型的方法转换为函数的特性
```go
// 这是方法表达式
incFunc := Counter.Inc
// 如果是指针方法
incFunc := (*Counter).Inc

```
调用方法表达式，在调用时将接收者以普通参数的形式传入
```go
incFunc(c1, 1)
incFunc(c2, 2)
```










